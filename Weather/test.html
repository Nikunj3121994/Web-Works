<!Doctype html>
<html>

<head>
	<title>LOCAL WEATHER</title>
	<meta charset="utf-8">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
	<link rel="stylesheet" href="styling.css">
	
	<!-- script area-->
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	
	<script>
		var latitude, longitude, apiLink,apiKey;
		//set api link to weather api
		apiLink = "http:\\api.openweathermap.org/data/2.5/weather?";
		apiKey="98b24935f3ef7c758917bf253f64b5fa";
		
		// set html tags to appropriate 
		setValues = function(jsonObject)
		{
			$("#location").html(jsonObject.location.city);
			
			
			$("#temperature").html(jsonObject.current_observation.weather);
		}
		
		function getWeather()
		{
			locationApi = "http://ip-api.com/json";
			
			$.getJSON(locationApi,passLocation);
		   //window.alert(city);
			
			function passLocation(jsonObject)
			{
				//get latitude and longitude
				latitude= jsonObject.lat;
				longitude= jsonObject.lon;

				unit ="metric"
				changingUnit=unit;
				
				//set api link to weather api
				apiLink = "http://api.wunderground.com/api/26f8d78c65b073b6/geolookup/conditions/q/";
				
				// set apilink to correct values using coordinates and correct units
				apiLink = apiLink +latitude+","+longitude+".json";
				
				
				//get json for the link
				$.getJSON(apiLink,setValues);
			}
		
		}
		
		
		$(document).ready(function()
		{
			getWeather();
		});
		
	</script>
</head>

<body>
	<h2 id="location">Location</h2>
	<br>
	<h2 id="temperature">TEMP</h2>
	
	<button type="button" class="btn btn-primary" data-toggle="button">
    Single toggle
	</button>
	
	
</body>

</html>